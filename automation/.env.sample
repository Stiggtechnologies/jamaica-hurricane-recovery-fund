# JHRF Automation Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# SUPABASE (Required)
# ============================================================================
# Get these from: Supabase Dashboard > Settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ============================================================================
# DONORBOX (Required for donations)
# ============================================================================
# Get these from: Donorbox Dashboard > Settings > API & Webhooks
DONORBOX_API_KEY=your_donorbox_api_key_here
DONORBOX_WEBHOOK_SECRET=your_webhook_secret_here

# ============================================================================
# STRIPE (Required for payment processing)
# ============================================================================
# Get these from: Stripe Dashboard > Developers > API keys
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# For testing, use test keys:
# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# EMAIL/CRM - Choose ONE: Mailchimp OR HubSpot
# ============================================================================

# Which CRM vendor to use (mailchimp or hubspot)
CRM_VENDOR=mailchimp

# --- MAILCHIMP ---
# Get these from: Mailchimp > Account > Extras > API keys
MC_API_KEY=your_mailchimp_api_key-us1
MC_SERVER_PREFIX=us1
MC_LIST_ID=your_list_id_here
MC_AUDIENCE_NAME=JHRF Donors

# --- HUBSPOT ---
# Get these from: HubSpot > Settings > Integrations > Private Apps
HS_PRIVATE_APP_TOKEN=pat-na1-xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
HS_PORTAL_ID=your_portal_id

# ============================================================================
# TWILIO SMS (Optional but recommended)
# ============================================================================
# Get these from: Twilio Console > Account > Keys & Credentials
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_FROM_NUMBER=+12345678900
TWILIO_MESSAGING_SERVICE_SID=MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Feature flags
SEND_SMS_ON_THANKYOU=true
SMS_DAILY_LIMIT=1000

# ============================================================================
# SLACK (Required for alerts and monitoring)
# ============================================================================
# Get these from: api.slack.com/apps > Your App > OAuth & Permissions
SLACK_BOT_TOKEN=xoxb-xxxxxxxxxxxx-xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxx
SLACK_SIGNING_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Channel IDs (right-click channel > Copy Link > extract ID)
SLACK_ALERTS_CHANNEL=C01234567890
SLACK_DONATIONS_CHANNEL=C09876543210
SLACK_ONCALL_CHANNEL=C01122334455
SLACK_AUTOMATION_CHANNEL=C05566778899

# ============================================================================
# GOOGLE SERVICES (For reports and documents)
# ============================================================================
# Service Account JSON (download from Google Cloud Console)
# Replace newlines with \n in the JSON
GOOGLE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project",...}

# Google Drive folder IDs
GOOGLE_REPORTS_FOLDER_ID=1ABCDefGHijklMNOPqrstUVWxyz
GOOGLE_TEMPLATES_FOLDER_ID=1XYZAbcDEfghIJKlmnoPQRStuv

# ============================================================================
# S3 / BACKBLAZE B2 (For archives and backups)
# ============================================================================
S3_ENDPOINT=s3.us-west-002.backblazeb2.com
S3_BUCKET=jhrf-archives
S3_ACCESS_KEY_ID=your_access_key_id
S3_SECRET_ACCESS_KEY=your_secret_access_key
S3_REGION=us-west-002

# ============================================================================
# WEBSITE & API
# ============================================================================
WEBSITE_URL=https://jamaicahurricanerecoveryfund.org
API_BASE_URL=https://jamaicahurricanerecoveryfund.org/api
METRICS_API_URL=https://your-project.supabase.co/functions/v1/metrics-api

# API Keys for webhook callbacks
N8N_WEBHOOK_BASE_URL=https://your-n8n-instance.com
N8N_API_KEY=your_n8n_api_key_here

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable specific features
ENABLE_REFERRALS=true
ENABLE_CORPORATE_MATCHING=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_AMBASSADOR_PROGRAM=true
TELETHON_MODE=false

# ============================================================================
# OPERATIONAL SETTINGS
# ============================================================================
# Default currency
DEFAULT_CURRENCY=USD

# Campaign goal (in cents)
CAMPAIGN_GOAL_CENTS=10000000000

# Time zone
TZ=America/Jamaica

# Environment
NODE_ENV=production

# ============================================================================
# RATE LIMITING & THROTTLING
# ============================================================================
# Email sending
EMAIL_RATE_LIMIT_PER_SECOND=5
EMAIL_BATCH_SIZE=1000

# SMS sending
SMS_RATE_LIMIT_PER_SECOND=3
SMS_BATCH_SIZE=100

# API rate limits
API_RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# MONITORING & ALERTING
# ============================================================================
# PagerDuty (optional)
PAGERDUTY_API_KEY=your_pagerduty_api_key
PAGERDUTY_SERVICE_ID=your_service_id

# Sentry (optional error tracking)
SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# ============================================================================
# TESTING & DEVELOPMENT
# ============================================================================
# Set to 'true' to use test mode for payments
USE_TEST_MODE=false

# Set to 'true' to enable verbose logging
DEBUG_MODE=false

# Set to 'true' to skip email sending (logs only)
DRY_RUN_EMAILS=false

# Set to 'true' to skip SMS sending (logs only)
DRY_RUN_SMS=false

# ============================================================================
# EXTERNAL INTEGRATIONS (Optional)
# ============================================================================

# Bit.ly for URL shortening (SMS links)
BITLY_ACCESS_TOKEN=your_bitly_access_token

# Zapier (if using alongside n8n)
ZAPIER_WEBHOOK_URL=https://hooks.zapier.com/hooks/catch/xxxxx/xxxxx/

# Airtable (alternative to Google Sheets)
AIRTABLE_API_KEY=keyxxxxxxxxxxxxx
AIRTABLE_BASE_ID=appxxxxxxxxxxxxx

# SendGrid (email fallback)
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# SECURITY
# ============================================================================
# JWT secret for internal APIs
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production

# Encryption key for sensitive data
ENCRYPTION_KEY=your_32_character_encryption_key_change_this

# API key for metrics API (website â†’ Supabase Edge Function)
METRICS_API_KEY=your_metrics_api_key_for_website_access

# ============================================================================
# DATABASE (if not using Supabase Edge Functions)
# ============================================================================
# Direct PostgreSQL connection (usually not needed)
# DATABASE_URL=postgresql://user:password@host:5432/database
# DATABASE_POOL_MIN=2
# DATABASE_POOL_MAX=10

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit this file with real values to git
# 2. Rotate all keys every 90 days
# 3. Use different keys for development, staging, production
# 4. Store production values in secure vault (1Password, AWS Secrets Manager)
# 5. Test with test keys before using live keys
# 6. Monitor API usage to avoid hitting rate limits
# 7. Keep backup of all keys in secure location
# ============================================================================
